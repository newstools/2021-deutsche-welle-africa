German software giant SAP will have to pay a fine exceeding $8 million (€6.6 million) over its exports to Iran as part of a cooperation deal, the US Department of Justice (DOJ) announced Thursday. In exchange for voluntarily disclosing its export violations with US authorities, the company will not face criminal prosecution for its trade with Iran. SAP admitted to exporting software to firms in Iran and circumventing US sanctions. The DOJ said the consequences for the tech firm could have been more severe if the company had not come forward. "This could have been worse for SAP if we had we discovered this on our own," DOJ national security head John Demers said Thursday during a press briefing. SAP was using its geolocation filters properly, failing to identify and block users in Iran. The oversight allowed thousands of Iranian downloads of software and software updates over several years. US authorities said this meant Iranian-controlled front companies — some of them presumably connected to the government — could use well-known SAP products, such as those used by human resources to manage employees. "We accept full responsibility for past conduct, and we have enhanced our internal controls to ensure compliance with applicable laws," SAP said in a statement regarding the deal. SAP is headquartered in in the southwestern town of Walldorf, Germany  It is the third-largest publicly-traded global software company by revenue, and Germany's largest company in terms of market capitalization. US economic sanctions towards Iran have drastically impacted the global operations of European companies in recent years. In 2018, French energy giant Total canceled a lucrative gas project in Iran due to the threat of economic penalties from the US. Former President Donald Trump reinstated a litany of economic sanctions against Iran in 2018 as part of a "maximum pressure" campaign against Tehran. The sanctions come after Trump pulled the US out of the Joint Comprehensive Plan of Action (JCPOA), also known as the Iran nuclear deal, that same year. Current President Joe Biden has been willing to possibly rejoin the Iran nuclear deal and drop some of the existing sanctions if Tehran stops uranium enrichment. The US and Iran recently resumed indirect nuclear talks in Vienna to discuss the JCPOA. wd/aw (Reuters, AP) 